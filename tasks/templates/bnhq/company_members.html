{% extends "dashboard/css.html" %}

{% block title %}{{ company }} Members{% endblock %}

{% block content %}

<!-- ================= HEADER ================= -->
<div class="flex justify-between items-center text-2xl font-bold mb-6">
    <h1>{{ company }}</h1>
    <h1>Total Members = {{ members|length }}</h1>
</div>

<!-- ================= PARADE STATE ================= -->
<div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-10">

    <!-- ðŸ”¹ Force Parade State -->
    <div class="bg-white border rounded-lg shadow">
        <h2 class="text-xl font-bold text-center bg-blue-600 text-white py-2 rounded-t-lg">
            Force_wise
        </h2>

        <table class="w-full text-center border-collapse">
            <thead class="bg-gray-200">
                <tr>
                    <th class="border p-2">Ser</th>
                    <th class="border p-2">Force</th>
                    <th class="border p-2">Strength</th>
                </tr>
            </thead>
            <tbody>
                {% for f in force_state %}
                <tr class="hover:bg-gray-100">
                    <td class="border p-2">{{ forloop.counter }}</td>
                    <td class="border p-2 font-semibold">{{ f.force }}</td>
                    <td class="border p-2 font-bold">{{ f.total }}</td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="3" class="border p-2 text-red-500">No Data</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <!-- ðŸ”¹ Rank Parade State -->
    <div class="bg-white border rounded-lg shadow">
        <h2 class="text-xl font-bold text-center bg-blue-600 text-white py-2 rounded-t-lg">
            Rank_wise
        </h2>

        <table class="w-full text-center border-collapse">
            <thead class="bg-gray-200">
                <tr>
                    <th class="border p-2">Ser</th>
                    <th class="border p-2">Rank</th>
                    <th class="border p-2">Strength</th>
                </tr>
            </thead>
            <tbody>
                {% for r in rank_state %}
                <tr class="hover:bg-gray-100">
                    <td class="border p-2">{{ forloop.counter }}</td>
                    <td class="border p-2 font-semibold">{{ r.rank }}</td>
                    <td class="border p-2 font-bold">{{ r.total }}</td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="3" class="border p-2 text-red-500">No Data</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

</div>
<!-- ================= PARADE STATE END ================= -->

<!-- ================= MEMBER LIST ================= -->
<div class="bg-white rounded-lg shadow">
    <table class="w-full border-collapse bg-gray-100">
        <thead class="bg-sky-400 text-center">
            <tr>
                <th class="border p-2">Ser</th>
                <th class="border p-2">Per No</th>
                <th class="border p-2">Rank</th>
                <th class="border p-2">Name</th>
                <th class="border p-2">Force</th>
                <th class="border p-2">Phone</th>
                <th class="border p-2">Email</th>
            </tr>
        </thead>
        <tbody>
            {% for m in members %}
            <tr class="text-center border hover:bg-gray-300 cursor-pointer">
                <td class="border p-2">{{ forloop.counter }}</td>
                <td class="border p-2">{{ m.no }}</td>
                <td class="border p-2">{{ m.get_rank_display }}</td>
                <td class="border p-2">{{ m.name }}</td>
                <td class="border p-2">{{ m.force }}</td>
                <td class="border p-2">{{ m.phone }}</td>
                <td class="border p-2">{{ m.email }}</td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="7" class="border p-3 text-center text-red-500">
                    No members found
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

{% endblock %}
